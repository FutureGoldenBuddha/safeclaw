# --- [ 1. Network Settings ] ---
# This fixes the "No forward-proxy ports configured" error
http_port 3128

# Match the username from your devcontainer.json
# Match the username from your docker-compose
cache_effective_user node

# --- [ 2. Disable Cache and PID ] ---
pid_filename none
cache deny all
# Removed cache_dir null /tmp because Alpine doesn't support the 'null' type
cache_mem 0 MB

# ACL para rede Docker (OBRIGATÓRIO)
acl localnet src 172.16.0.0/12  # Rede Docker padrão
acl localnet src 172.19.0.0/16  # SUA rede openclaw_internal_maintenance
acl localnet src 172.18.0.0/16  # SUA rede openclaw_egress

# no rules
http_access allow all
dns_nameservers 8.8.8.8 8.8.4.4

# --- [ 5. Logging for Docker ] ---
access_log stdio:/dev/stdout
cache_log stdio:/dev/stderr
